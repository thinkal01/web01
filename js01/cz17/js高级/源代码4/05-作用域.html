<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        //作用域
        //作用：起作用
        //域：范围
        //起作用的范围
        //变量起作用的范围就是变量的作用域

        //1.作用域
        //变量的作用范围

        //2.js中的作用域是词法作用域
        //代码在写好之后，变量的作用域就已经确定，这个就是词法作用域

        //3.js中没有块级作用域

        //4.js中只有函数可以创建作用域

        //1.块级作用域
        //JavaScript中没有块级作用域
        //如果有块级作用域下面的代码的显示结果为 undefined undefined
        for (var i = 0; i < 10; i++) {
            var num = i;
        }
        console.log(i);
        console.log(num);

        //2.词法作用域
        //就是在代码写好的那一刻，变量的作用域就已经确定了，这种作用域，就是所谓的词法作用域
        //和词法作用域相对的叫动态作用域 js中是词法作用域不是动态作用域
        var a = 123;

        function f2() {
            var a = 456;

            function f1() {
                console.log(a);
            }
        }

        f2();

        //3.在JavaScript中唯一能产生作用域的东西是 函数！
        //4.词法作用域的规则
        //函数允许访问函数外的数据.
        //整个代码结构中只有函数可以限定作用域.
        //作用域规则首先使用提升规则分析
        //如果当前作用域中有了该变量, 就不考虑外面的同名变量

        //6 作用域链
        //只要是函数，都会有作用域
        //函数内部的作用域可以访问函数外部的作用域
        //如果函数进行嵌套，就会构成一个链条的结构，这个就是作用域链

        var num = 123;

        function f1() {
            var num = 123;

            function f2() {

            }
        }

        f1();

        // 提升后
        var num;

        function f1() {
            var num;

            function f2() {

            }

            num = 123;
        }

        num = 123;
        f1();

        function f1() {
            var num = 123;

            function f2() {
                console.log(num);
            }

            f2();
        }

        var num = 456;
        f1();

        //f1的作用域-->全局作用域
        function f1() {
//            var num = 456;
            //f2的作用域--->f1的作用域---->全局作用域
            function f2() {
                var num = 456;
                console.log(num);
            }

            //f5的作用域--->f1的作用域---->全局作用域
            function f5() {

            }
        }

        function f2() {
            var num = 123
        }

        var num = 123;

        //f3作用域---->全局作用域
        function f3() {
            //f4作用域--->f3作用域---->全局作用域
            function f4() {

            }
        }
    </script>
</head>
<body>

</body>
</html>