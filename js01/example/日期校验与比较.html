<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=GBK">
    <title>Untitled Document</title>
</head>
<body>
<script type="text/javascript">
    window.onload = function () {
        document.getElementById("frm1").onsubmit = function () {
            var d1 = this.d1.value;
            var d2 = this.d2.value;
            if (!verifyDate(d1)) {
                alert("The first date format is not correct");
                return false;
            }
            if (!verifyDate(d2)) {
                alert("The second date format is not correct");
                return false;
            }
            if (!compareDate(d1, d2)) {
                alert("The second date is smaller than the first date");
                return false;
            }
        };
    };

    function compareDate(d1, d2) {
        var arrayD1 = d1.split("-");
        var date1 = new Date(arrayD1[0], arrayD1[1], arrayD1[2]);
        var arrayD2 = d2.split("-");
        var date2 = new Date(arrayD2[0], arrayD2[1], arrayD2[2]);
        if (date1 > date2) {
            return false;
        }
        return true;
    }

    function verifyDate(d) {
        var datePattern = /^\d{4}-(0?[1-9]|1[0-2])-(0?[1-9]|[1-2]\d|3[0-1])$/;
        return datePattern.test(d);
    }
</script>

<form id="frm1" action="xxx.html">
    <input type="text" name="d1"/>
    <input type="text" name="d2"/>
    <input type="submit"/>
</form>
</body>
</html>
