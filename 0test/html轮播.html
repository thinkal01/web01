<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        body > div {
            width: 520px;
            height: 333px;
            margin: 50px auto;
            background-color: greenyellow;
            padding: 10px 0px;
            overflow: hidden;
            position: relative;
        }

        div ul {
            list-style: none;
            position: absolute;
            left: 0px;
        }

        ul li {
            float: left;
            margin: 0px 10px;
        }

        body > div > div {
            position: absolute;
            bottom: 15px;
        }

        body > div > div > a {
            width: 15px;
            height: 15px;
            background-color: red;
            opacity: 0.5;
            margin: 0px 5px;
            float: left;
        }

        body > div > div > a:hover {
            background-color: black;
        }
    </style>
    <script type="text/javascript" src="../js01/0案例/js/tools.js"></script>
    <script type="text/javascript">
        window.onload = function () {
            var ul = document.getElementsByTagName('ul')[0];
            var lis = document.getElementsByTagName("li");
            ul.style.width = lis.length * 520 + "px";

            var outer = document.body.firstElementChild;
            var navDiv = ul.nextElementSibling;
            navDiv.style.left = (outer.offsetWidth - navDiv.offsetWidth) / 2 + "px";

            var index = 0;
            var allA = navDiv.children;
            allA[index].style.backgroundColor = "black";

            for (var i = 0; i < allA.length; ++i) {
                allA[i].index = i;
                allA[i].onclick = function () {
                    clearInterval(timer);
                    index = this.index;
                    move(ul, 'left', -520 * index, 20, function () {
                        setA();
                        change();
                    });
                    return false;
                };
            }

            var timer;

            function change() {
                timer = setInterval(function () {
                    index++;
                    index = index % lis.length;
                    move(ul, "left", -520 * index, 20, function () {
                        setA();
                    });
                }, 2000);
            }

            change();

            function setA() {
                for (var i = 0; i < allA.length; ++i) {
                    allA[i].style.backgroundColor = '';
                }
                if (index >= lis.length - 1) {
                    index = 0;
                    ul.style.left = 0;
                }
                allA[index].style.backgroundColor = 'black';
            }
        };
    </script>
</head>
<body>
<div>
    <ul>
        <li><img src="img/1.jpg"></li>
        <li><img src="img/2.jpg"></li>
        <li><img src="img/3.jpg"></li>
        <li><img src="img/4.jpg"></li>
        <li><img src="img/5.jpg"></li>
        <li><img src="img/1.jpg"></li>
    </ul>

    <div>
        <a href="javascript:;"></a>
        <a href="javascript:;"></a>
        <a href="javascript:;"></a>
        <a href="javascript:;"></a>
        <a href="javascript:;"></a>
    </div>
</div>
</body>
</html>